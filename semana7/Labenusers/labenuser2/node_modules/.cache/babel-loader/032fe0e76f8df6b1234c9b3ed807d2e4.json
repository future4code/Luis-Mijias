{"ast":null,"code":"import _classCallCheck from\"C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import axios from\"axios\";import React from\"react\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardUsuario=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border: 1px solid black;\\n    padding: 10px;\\n    background-color: rgb(255, 255, 128);\\n    margin: 10px;\\n    color: red;\\n    width: 40vw;\\n    display: flex;\\n    justify-content: space-between;\\n    \\n    \"])));var TelaListaUsuario=/*#__PURE__*/function(_React$Component){_inherits(TelaListaUsuario,_React$Component);var _super=_createSuper(TelaListaUsuario);function TelaListaUsuario(){var _this;_classCallCheck(this,TelaListaUsuario);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={usuarios:[]};_this.pegarUsuarios=function(){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\";axios.get(url,{headers:{Authorization:\"luis-mijias-lovelace\"}}).then(function(res){console.log(res);_this.setState({usuarios:res.data});}).catch(function(err){console.log(err);alert(\"Erro, tente novamente!!\");});};_this.deletarUsuario=function(id){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/\".concat(id);axios.delete(url,{headers:{Authorization:\"luis-mijias-lovelace\"}}).then(function(res){console.log(res);alert(\"Usu치rio Deletado!!\");_this.pegarUsuarios();}).catch(function(err){console.log(err.response.data);alert(\"Ocorreu um Erro . Tente novamente.\");});};return _this;}_createClass(TelaListaUsuario,[{key:\"componentDidMount\",value:function componentDidMount(){this.pegarUsuarios();}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.usuarios);var listaUsuarios=this.state.usuarios.map(function(user){return/*#__PURE__*/_jsxs(CardUsuario,{children:[user.name,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.deletarUsuario(user.id);},children:\"apagar\"})]});});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Tela Lista de Usu\\xE1rios\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.props.irParaCadastro,children:\"Ir para Cadastro\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Usu\\xE1rios\"}),listaUsuarios]});}}]);return TelaListaUsuario;}(React.Component);export{TelaListaUsuario as default};","map":{"version":3,"sources":["C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenuser2/src/Components/TelaListaUsuarios.js"],"names":["axios","React","styled","CardUsuario","div","TelaListaUsuario","state","usuarios","pegarUsuarios","url","get","headers","Authorization","then","res","console","log","setState","data","catch","err","alert","deletarUsuario","id","delete","response","listaUsuarios","map","user","name","props","irParaCadastro","Component"],"mappings":"k6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGD,MAAM,CAACE,GAAV,yRAAjB,C,GAYqBC,CAAAA,gB,+WACjBC,K,CAAQ,CACJC,QAAQ,CAAC,EADL,C,OASRC,a,CAAgB,UAAM,CAClB,GAAMC,CAAAA,GAAG,CAAG,qEAAZ,CACAT,KAAK,CAACU,GAAN,CAAUD,GAAV,CAAe,CACXE,OAAO,CAAE,CACLC,aAAa,CAAE,sBADV,CADE,CAAf,EAKCC,IALD,CAKM,SAACC,GAAD,CAAQ,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,MAAKG,QAAL,CAAc,CAACV,QAAQ,CAAEO,GAAG,CAACI,IAAf,CAAd,EACH,CARD,EAUCC,KAVD,CAUO,SAACC,GAAD,CAAS,CACZL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACAC,KAAK,CAAC,yBAAD,CAAL,CACH,CAbD,EAcH,C,OACDC,c,CAAiB,SAACC,EAAD,CAAQ,CACrB,GAAMd,CAAAA,GAAG,+EAA0Ec,EAA1E,CAAT,CACAvB,KAAK,CAACwB,MAAN,CAAaf,GAAb,CAAiB,CAACE,OAAO,CAAC,CAAEC,aAAa,CAAE,sBAAjB,CAAT,CAAjB,EACCC,IADD,CACM,SAACC,GAAD,CAAO,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAO,KAAK,CAAC,oBAAD,CAAL,CACA,MAAKb,aAAL,GACH,CALD,EAMCW,KAND,CAMO,SAACC,GAAD,CAAO,CACVL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACK,QAAJ,CAAaP,IAAzB,EACAG,KAAK,CAAC,oCAAD,CAAL,CACH,CATD,EAUH,C,6EAjCD,4BAAmB,CACf,KAAKb,aAAL,GACH,C,sBAiCD,iBAAS,iBACLO,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWC,QAAvB,EACA,GAAMmB,CAAAA,aAAa,CAAG,KAAKpB,KAAL,CAAWC,QAAX,CAAoBoB,GAApB,CAAwB,SAACC,IAAD,CAAU,CACpD,mBAAM,MAAC,WAAD,YACDA,IAAI,CAACC,IADJ,cAEF,eAAQ,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACP,cAAL,CAAoBM,IAAI,CAACL,EAAzB,CAAN,EAAjB,oBAFE,GAAN,CAIH,CALqB,CAAtB,CAMA,mBACI,oCACE,gDADF,cAEE,eAAQ,OAAO,CAAE,KAAKO,KAAL,CAAWC,cAA5B,8BAFF,cAGE,4CAHF,CAIGL,aAJH,GADJ,CAQH,C,8BAzDyCzB,KAAK,CAAC+B,S,SAA/B3B,gB","sourcesContent":["import axios from \"axios\"\r\nimport React from \"react\"\r\nimport styled from \"styled-components\"\r\n\r\nconst CardUsuario = styled.div `\r\n    border: 1px solid black;\r\n    padding: 10px;\r\n    background-color: rgb(255, 255, 128);\r\n    margin: 10px;\r\n    color: red;\r\n    width: 40vw;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    \r\n    `\r\n\r\nexport default class TelaListaUsuario extends React.Component {\r\n    state = {\r\n        usuarios:[]\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this.pegarUsuarios()\r\n    }\r\n\r\n    pegarUsuarios = () => {\r\n        const url = \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\"\r\n        axios.get(url, {\r\n            headers: {\r\n                Authorization: \"luis-mijias-lovelace\"\r\n            }\r\n        })\r\n        .then((res)=> {\r\n            console.log(res)\r\n            this.setState({usuarios: res.data})\r\n        })\r\n\r\n        .catch((err) => {\r\n            console.log(err)\r\n            alert(\"Erro, tente novamente!!\")\r\n        })\r\n    }\r\n    deletarUsuario = (id) => {\r\n        const url = `https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${id}`\r\n        axios.delete(url,{headers:{ Authorization: \"luis-mijias-lovelace\" }})\r\n        .then((res)=>{\r\n            console.log(res)\r\n            alert(\"Usu치rio Deletado!!\")\r\n            this.pegarUsuarios()\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err.response.data)\r\n            alert(\"Ocorreu um Erro . Tente novamente.\")\r\n        })\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.usuarios)\r\n        const listaUsuarios = this.state.usuarios.map((user) => {\r\n            return<CardUsuario>\r\n                {user.name}\r\n                <button onClick={() => this.deletarUsuario(user.id)}>apagar</button>\r\n                </CardUsuario>\r\n        })\r\n        return(\r\n            <div>                       \r\n              <p>Tela Lista de Usu치rios</p>\r\n              <button onClick={this.props.irParaCadastro}>Ir para Cadastro</button> \r\n              <h2>Lista de Usu치rios</h2> \r\n              {listaUsuarios}\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}