{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luism\\\\labenu\\\\Luis-Mijias\\\\semana7\\\\Labenusers\\\\labenusers\\\\src\\\\App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = \" https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\";\nconst headers = {\n  headers: {\n    Authorization: \"luis-mijias-lovelace\"\n  }\n};\nconst UserItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n_c = UserItem;\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: [],\n      email: [],\n      inputNome: \"\",\n      inputEmail: \"\"\n    };\n\n    this.mudaInputNome = e => {\n      this.setState({\n        inputNome: e.target.value\n      });\n    };\n\n    this.mudaInputEmail = e => {\n      this.setState({\n        inputEmail: e.target.value\n      });\n    };\n\n    this.pegarNome = () => {\n      axios.get(url, headers).then(res => {\n        console.log(res);\n        this.setState({\n          name: res.data\n        });\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.pegarEmail = () => {\n      axios.get(url, headers).then(res => {\n        console.log(res);\n        this.setState({\n          email: res.data\n        });\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.criarUsuario = () => {\n      const body = {\n        name: this.state.inputNome,\n        email: this.state.inputEmail\n      };\n      axios.post(url, body, headers).then(res => {\n        console.log(res);\n        alert(\"Usuário adicionado com sucesso\");\n        this.setState({\n          inputNome: \"\",\n          inputEmail: \"\"\n        });\n        this.pegarNome();\n        this.pegarEmail();\n      }).catch(err => {\n        alert(err.response.data.message);\n      });\n    };\n\n    this.getUsersList = () => {\n      axios.get(\"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\", {\n        headers: {\n          Authorization: \"luis-mijias-lovelace\"\n        }\n      }).then(response => {\n        this.setState({\n          usersList: response.data\n        });\n      }).catch(error => {\n        console.log(error.response);\n      });\n    };\n\n    this.onClickDeleteUser = userId => {\n      axios.delete(`https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${userId}`, {\n        headers: {\n          Authorization: \"luis-mijias-lovelace\"\n        }\n      }).then(response => {\n        window.alert(\"Usuario deletado com sucesso\");\n        this.getUsersList();\n      }).catch(error => {\n        window.alert(\"Deu um erro :(\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.criarUsuario();\n    this.pegarNome();\n  }\n\n  render() {\n    // const componentesNome = this.state.name.map((play) => {\n    //   return <li key={play.id}>{play.name}</li>;\n    // });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"labenusers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"insira seu nome\",\n        value: this.state.inputNome,\n        onChange: this.mudaInputNome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"insira seu e-mail\",\n        value: this.state.inputEmail,\n        onChange: this.mudaInputEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.onClickDeleteUser(user.id),\n        children: \"Apagar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.criarUsuario,\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.usersList.map(user => {\n          return /*#__PURE__*/_jsxDEV(UserItem, {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.onClickDeleteUser(user.id),\n              children: \"Apagar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"UserItem\");","map":{"version":3,"sources":["C:/Users/luism/labenu/Luis-Mijias/semana7/Labenusers/labenusers/src/App.js"],"names":["React","axios","url","headers","Authorization","UserItem","styled","div","App","Component","state","name","email","inputNome","inputEmail","mudaInputNome","e","setState","target","value","mudaInputEmail","pegarNome","get","then","res","console","log","data","catch","err","alert","pegarEmail","criarUsuario","body","post","response","message","getUsersList","usersList","error","onClickDeleteUser","userId","delete","window","componentDidMount","render","user","id","map"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\n\n\nconst url =  \" https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\" ;\n\n\n\nconst headers = {  headers: {    Authorization: \"luis-mijias-lovelace\"  }};\n\n\nconst UserItem = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default class App extends React.Component {\n  state = {\n    name: [],\n    email:[],\n    inputNome: \"\",\n    inputEmail:\"\"\n  };\n\n  componentDidMount() {\n    this.criarUsuario(); \n    this.pegarNome();   \n     \n  }\n\n  mudaInputNome = (e) => {\n    this.setState({ inputNome: e.target.value });\n  };\n  \n  mudaInputEmail = (e) => {\n    this.setState({ inputEmail: e.target.value });\n  };\n\n\n  pegarNome = () => {\n    axios\n      .get(url, headers)\n      .then((res) => {\n        console.log(res)\n        this.setState({ name: res.data });\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  };\n  pegarEmail = () => {\n    axios\n      .get(url, headers)\n      .then((res) => {\n        console.log(res)\n        this.setState({ email: res.data });\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  };\n\n criarUsuario = () => {\n    const body = {\n      name: this.state.inputNome,\n      email: this.state.inputEmail     \n    };\n\n    axios\n      .post(url, body, headers)\n      .then((res) => {\n        console.log(res)\n        alert(\"Usuário adicionado com sucesso\");\n        this.setState({ inputNome: \"\",inputEmail:\"\" });\n        this.pegarNome();\n        this.pegarEmail();\n      })\n      .catch((err) => {\n        alert(err.response.data.message);\n      });\n  };\n\n  getUsersList = () => {\n    axios\n      .get(\n        \"https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users\",\n        {\n          headers: {\n            Authorization: \"luis-mijias-lovelace\"\n          }\n        }\n      )\n      .then(response => {\n        this.setState({ usersList: response.data });\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  onClickDeleteUser = userId => {\n    axios\n      .delete(\n        `https://us-central1-labenu-apis.cloudfunctions.net/labenusers/users/${userId}`,\n        {\n          headers: {\n            Authorization: \"luis-mijias-lovelace\"\n          }\n        }\n      )\n      .then(response => {\n        window.alert(\"Usuario deletado com sucesso\");\n        this.getUsersList();\n      })\n      .catch(error => {\n        window.alert(\"Deu um erro :(\");\n      });\n  };\n\n\n  render() {\n    // const componentesNome = this.state.name.map((play) => {\n    //   return <li key={play.id}>{play.name}</li>;\n    // });\n\n    return (\n      <div>\n        \n        <h1>labenusers</h1>\n        <input\n          placeholder={\"insira seu nome\"}\n          value={this.state.inputNome}        \n          onChange={this.mudaInputNome}\n        />\n        <br></br>\n        <input\n          placeholder={\"insira seu e-mail\"}\n          value={this.state.inputEmail}        \n          onChange={this.mudaInputEmail}\n        />   \n        <button onClick={() => this.onClickDeleteUser(user.id)}>\n        Apagar\n        </button>\n        \n        <button onClick={this.criarUsuario}>Enviar</button>\n        {/* {componentesNome} */}\n\n        <div>\n          {this.state.usersList.map(user => {\n            return (\n              <UserItem>\n                <p>{user.name}</p>\n                <button onClick={() => this.onClickDeleteUser(user.id)}>\n                  Apagar\n                </button>\n              </UserItem>\n            );\n          })}\n        </div>\n       \n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}