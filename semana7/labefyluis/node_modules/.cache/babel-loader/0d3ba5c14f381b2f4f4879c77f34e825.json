{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Playlists=/*#__PURE__*/function(_React$Component){_inherits(Playlists,_React$Component);var _super=_createSuper(Playlists);function Playlists(){var _this;_classCallCheck(this,Playlists);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={playlist:[]};_this.getPlaylists=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://us-central1-labenu-apis.cloudfunctions.net/labefy/playlists\",{headers:{Authorization:\"luis-mijias-lovelace\"}});case 3:res=_context.sent;_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));_this.deletePlaylist=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var result,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;result=window.confirm(\"Quer excluir o item\");if(!(result==true)){_context2.next=7;break;}_context2.next=5;return axios.delete(\"https://us-central1-labenu-apis.cloudfunctions.net/labefy/playlists/\".concat(id),{headers:{Authorization:\"luis-mijias-lovelace\"}});case 5:res=_context2.sent;_this.getPlaylists();case 7:_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Playlists,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPlaylists();}},{key:\"render\",value:function render(){var _this2=this;var playlist=this.state.playlist.map(function(play){return/*#__PURE__*/_jsxs(\"div\",{children:[play.name,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.deletePlaylist(play.id);},children:\"x\"})]},play.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Playlists Aqui\"}),playlist]});}}]);return Playlists;}(React.Component);export default Playlists;","map":{"version":3,"sources":["C:/Users/luism/labenu/Luis-Mijias/semana7/labefyluis/src/components/playlists.js"],"names":["React","axios","Playlists","state","playlist","getPlaylists","get","headers","Authorization","res","console","log","deletePlaylist","id","result","window","confirm","delete","map","play","name","Component"],"mappings":"++BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAIMC,CAAAA,S,mVAEFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,C,OAQRC,Y,sEAAe,iLAGWJ,CAAAA,KAAK,CAACK,GAAN,CAAU,qEAAV,CAAiF,CAAEC,OAAO,CAAE,CAAEC,aAAa,CAAE,sBAAjB,CAAX,CAAjF,CAHX,QAGDC,GAHC,6FAKPC,OAAO,CAACC,GAAR,cALO,mE,SASfC,c,2FAAiB,kBAAOC,EAAP,sJAGHC,MAHG,CAGMC,MAAM,CAACC,OAAP,CAAe,qBAAf,CAHN,MAILF,MAAM,EAAI,IAJL,kDAKab,CAAAA,KAAK,CAACgB,MAAN,+EAAoFJ,EAApF,EAA0F,CAAEN,OAAO,CAAE,CAAEC,aAAa,CAAE,sBAAjB,CAAX,CAA1F,CALb,QAKCC,GALD,gBAML,MAAKJ,YAAL,GANK,0FAUTK,OAAO,CAACC,GAAR,eAVS,sE,qIAbjB,4BAAoB,CAChB,KAAKN,YAAL,GACH,C,sBAyBD,iBAAS,iBACL,GAAMD,CAAAA,QAAQ,CAAG,KAAKD,KAAL,CAAWC,QAAX,CAAoBc,GAApB,CAAyB,SAACC,IAAD,qBACtC,uBAESA,IAAI,CAACC,IAFd,cAGQ,eACA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACR,cAAL,CAAoBO,IAAI,CAACN,EAAzB,CAAN,EADT,eAHR,GAAUM,IAAI,CAACN,EAAf,CADsC,EAAzB,CAAjB,CAWJ,mBACI,oCACI,sCADJ,CAEKT,QAFL,GADJ,CAMC,C,uBAnDmBJ,KAAK,CAACqB,S,EA2D9B,cAAenB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nclass Playlists extends React.Component {\r\n\r\n    state = {\r\n        playlist: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPlaylists()\r\n    }\r\n\r\n    getPlaylists = async () => {\r\n       \r\n        try {\r\n            const res = await axios.get(\"https://us-central1-labenu-apis.cloudfunctions.net/labefy/playlists\", { headers: { Authorization: \"luis-mijias-lovelace\" } })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    deletePlaylist = async (id) => {\r\n        \r\n        try {\r\n            const result = window.confirm(\"Quer excluir o item\")\r\n            if (result == true) {\r\n                const res = await axios.delete(`https://us-central1-labenu-apis.cloudfunctions.net/labefy/playlists/${id}`, { headers: { Authorization: \"luis-mijias-lovelace\" } })\r\n                this.getPlaylists()\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const playlist = this.state.playlist.map ((play) => (\r\n            <div key={play.id}>\r\n                \r\n                    {play.name}\r\n                    <button\r\n                    onClick={() => this.deletePlaylist(play.id)}\r\n                    >x</button>\r\n               \r\n            </div>\r\n        ))\r\n\r\n    return (\r\n        <div>\r\n            <h2>Playlists Aqui</h2>\r\n            {playlist}\r\n        </div>\r\n    )    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\nexport default Playlists\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}